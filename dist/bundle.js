/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/editor/editor-tool.js":
/*!***********************************!*\
  !*** ./src/editor/editor-tool.js ***!
  \***********************************/
/*! exports provided: MarkdownEditToolbarItemSave, MarkdownEditToolbarItemH1, MarkdownEditToolbarItemH2, MarkdownEditToolbarItemH3, MarkdownEditToolbarItemH4, MarkdownEditToolbarItemH5, MarkdownEditToolbarItemH6, MarkdownEditToolbarItemBold, MarkdownEditToolbarItemItalic, MarkdownEditToolbarItemUList, MarkdownEditToolbarItemOList, MarkdownEditToolbarItemQuote, MarkdownEditToolbarItemCode, MarkdownEditToolbarItemLink, MarkdownEditToolbarItemImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemSave\", function() { return MarkdownEditToolbarItemSave; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemH1\", function() { return MarkdownEditToolbarItemH1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemH2\", function() { return MarkdownEditToolbarItemH2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemH3\", function() { return MarkdownEditToolbarItemH3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemH4\", function() { return MarkdownEditToolbarItemH4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemH5\", function() { return MarkdownEditToolbarItemH5; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemH6\", function() { return MarkdownEditToolbarItemH6; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemBold\", function() { return MarkdownEditToolbarItemBold; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemItalic\", function() { return MarkdownEditToolbarItemItalic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemUList\", function() { return MarkdownEditToolbarItemUList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemOList\", function() { return MarkdownEditToolbarItemOList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemQuote\", function() { return MarkdownEditToolbarItemQuote; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemCode\", function() { return MarkdownEditToolbarItemCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemLink\", function() { return MarkdownEditToolbarItemLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditToolbarItemImage\", function() { return MarkdownEditToolbarItemImage; });\nclass MarkdownEditToolbarItem {\n  constructor(editor, desc = '', hastext = false) {\n    this.editor = null;\n    this.icon = null;\n    this.text = null;\n    this.el = document.createElement('span');\n    this.el.className = 'editor-edit-toolbar-item';\n    let inner = document.createElement('a');\n    inner.className = 'editor-edit-toolbar-item-inner';\n    inner.title = desc;\n    this.el.appendChild(inner);\n    this.icon = document.createElement('span');\n    this.icon.className = 'editor-edit-toolbar-item-icon';\n\n    if (hastext) {\n      this.text = document.createElement('span');\n      this.text.className = 'editor-edit-toolbar-item-text';\n    }\n\n    inner.appendChild(this.icon);\n    if (this.text) inner.appendChild(this.text);\n    this.editor = editor;\n  }\n\n}\n\nclass MarkdownEditToolbarItemSave extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '保存当前文件', true);\n    this.el.addEventListener('click', this.saveFile);\n    this.text.innerText = '保存';\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 enable-background=%22new 0 0 24 24%22 viewBox=%220 0 24 24%22 fill=%22black%22 width=%2218px%22 height=%2218px%22%3E%3Cg%3E%3Crect fill=%22none%22 height=%2224%22 width=%2224%22/%3E%3C/g%3E%3Cg%3E%3Cpath d=%22M5,20h14v-2H5V20z M19,9h-4V3H9v6H5l7,7L19,9z%22/%3E%3C/g%3E%3C/svg%3E\")';\n  }\n\n  saveFile() {\n    let element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(this.editor.getText()));\n    element.setAttribute('download', 'Markdown file.md');\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n}\nclass MarkdownEditToolbarItemH1 extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入一级标题', false);\n    this.el.addEventListener('click', this.addH1);\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 10.94 11.64%22%3E%3Cpath d=%22M13.11,11.45H8.63v5.09H6.93V4.89h1.7v5h4.48v-5h1.71V16.54H13.11Z%22 transform=%22translate(-6.93 -4.89)%22/%3E%3Cpath d=%22M17.86,16.54h-.57V13.26H17v-.44a.48.48,0,0,0,.45-.28h.38Z%22 transform=%22translate(-6.93 -4.89)%22/%3E%3C/svg%3E\")';\n  }\n\n  addH1() {\n    this.editor.insertText('\\n# 一级标题\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemH2 extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入二级标题', false);\n    this.el.addEventListener('click', this.addH2);\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 12.21 11.64%22%3E%3Cpath d=%22M12.54,11.45H8.07v5.09H6.36V4.89H8.07v5h4.47v-5h1.71V16.54H12.54Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3Cpath d=%22M18.57,16.54H16.35a3.75,3.75,0,0,1,.19-1.1,2.75,2.75,0,0,1,.65-1c.11-.1.28-.22.5-.38a1.15,1.15,0,0,0,.27-.24.36.36,0,0,0,.07-.24.55.55,0,0,0-.16-.4.58.58,0,0,0-.8,0,.55.55,0,0,0-.16.4h-.56a1.11,1.11,0,0,1,1.12-1.12,1,1,0,0,1,.78.33,1.06,1.06,0,0,1,.32.79,1,1,0,0,1-.33.79l-.13.09-.14.1-.14.1-.16.12a1.9,1.9,0,0,0-.62.88A1.33,1.33,0,0,0,17,16h1.61Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3C/svg%3E\")';\n  }\n\n  addH2() {\n    this.editor.insertText('\\n## 二级标题\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemH3 extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入三级标题', false);\n    this.el.addEventListener('click', this.addH3);\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 12.21 11.71%22%3E%3Cpath d=%22M12.54,11.45H8.07v5.09H6.36V4.89H8.07v5h4.47v-5h1.71V16.54H12.54Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3Cpath d=%22M18.57,15.46a1.15,1.15,0,0,1-.31.82,1,1,0,0,1-.79.33,1.07,1.07,0,0,1-.79-.32,1.15,1.15,0,0,1-.33-.81h.56a.64.64,0,0,0,.17.41.57.57,0,0,0,.39.16.54.54,0,0,0,.4-.17.57.57,0,0,0,.16-.42.91.91,0,0,0-.15-.54.47.47,0,0,0-.37-.23h-.28v-.55h.24a.41.41,0,0,0,.3-.16.63.63,0,0,0,.16-.44.53.53,0,0,0-.12-.37.46.46,0,0,0-.34-.14.41.41,0,0,0-.44.42l-.56-.07a1,1,0,0,1,.32-.66,1,1,0,0,1,.68-.25,1,1,0,0,1,.72.3,1,1,0,0,1,.29.73,1.35,1.35,0,0,1-.37.91A1.32,1.32,0,0,1,18.57,15.46Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3C/svg%3E\")';\n  }\n\n  addH3() {\n    this.editor.insertText('\\n### 三级标题\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemH4 extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入四级标题', false);\n    this.el.addEventListener('click', this.addH4);\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 12.34 11.64%22%3E%3Cpath d=%22M12.54,11.45H8.07v5.09H6.36V4.89H8.07v5h4.47v-5h1.71V16.54H12.54Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3Cpath d=%22M18.7,15.57h-.24v1h-.58v-1H16.23v-.41l1.65-2.62h.58V15h.24ZM17.88,15v-1.5L16.93,15Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3C/svg%3E\")';\n  }\n\n  addH4() {\n    this.editor.insertText('\\n#### 四级标题\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemH5 extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入五级标题', false);\n    this.el.addEventListener('click', this.addH5);\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 12.21 11.71%22%3E%3Cpath d=%22M12.54,11.45H8.07v5.09H6.36V4.89H8.07v5h4.47v-5h1.71V16.54H12.54Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3Cpath d=%22M18.57,15.13a1.56,1.56,0,0,1-.35,1.06,1.13,1.13,0,0,1-.89.42,1.57,1.57,0,0,1-1-.35l.37-.4a1,1,0,0,0,.55.19.65.65,0,0,0,.54-.27,1,1,0,0,0,.21-.67.82.82,0,0,0-.15-.52.49.49,0,0,0-.4-.18.68.68,0,0,0-.48.19l-.55-.07.1-2h1.88v.56H17.07l0,.84a1.53,1.53,0,0,1,.45-.08,1,1,0,0,1,.79.35A1.39,1.39,0,0,1,18.57,15.13Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3C/svg%3E\")';\n  }\n\n  addH5() {\n    this.editor.insertText('\\n##### 五级标题\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemH6 extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入六级标题', false);\n    this.el.addEventListener('click', this.addH6);\n    this.icon.style.backgroundImage = 'url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 12.34 11.71%22%3E%3Cpath d=%22M12.54,11.45H8.07v5.09H6.36V4.89H8.07v5h4.47v-5h1.71V16.54H12.54Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3Cpath d=%22M18.39,14.41a1.31,1.31,0,0,1,.31.92,1.34,1.34,0,0,1-.31.93,1,1,0,0,1-.82.35,1,1,0,0,1-.82-.38,1.75,1.75,0,0,1-.28-1.07,3.13,3.13,0,0,1,.36-1.44,3.68,3.68,0,0,1,1-1.21l.33.45a2.7,2.7,0,0,0-.5.51,2.38,2.38,0,0,0-.35.6h.25A1,1,0,0,1,18.39,14.41ZM18,15.85a.92.92,0,0,0,0-1,.48.48,0,0,0-.4-.21.5.5,0,0,0-.41.19.82.82,0,0,0-.16.49.92.92,0,0,0,.16.55.47.47,0,0,0,.41.22A.48.48,0,0,0,18,15.85Z%22 transform=%22translate(-6.36 -4.89)%22/%3E%3C/svg%3E\")';\n  }\n\n  addH6() {\n    this.editor.insertText('\\n###### 六级标题\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemBold extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入粗体记号', false);\n    this.el.addEventListener('click', this.addBold);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Ebold%3C/title%3E%3Cpath d=%22M8.326 11.274l1.722-4.908s1.305 3.843 1.626 4.907zM13.7 17H17L11.5 3h-3L3 17h3.3l1.24-3.496h4.92z%22/%3E%3C/svg%3E\")';\n  }\n\n  addBold() {\n    this.editor.insertText('**粗体文字**');\n  }\n\n}\nclass MarkdownEditToolbarItemItalic extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入斜体记号', false);\n    this.el.addEventListener('click', this.addItalic);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Eitalic%3C/title%3E%3Cpath d=%22M8.605 11.274l3.326-6.543 1.266 6.543zM14.322 17H17L13.703 3h-3L3 17h2.678l2.047-3.995h5.808z%22/%3E%3C/svg%3E\")';\n  }\n\n  addItalic() {\n    this.editor.insertText('*斜体文字*');\n  }\n\n}\nclass MarkdownEditToolbarItemUList extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入无序列表项', false);\n    this.el.addEventListener('click', this.addUList);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Ebullet list%3C/title%3E%3Cpath d=%22M7 15h12v2H7zm0-6h12v2H7zm0-6h12v2H7z%22/%3E%3Ccircle cx=%223%22 cy=%224%22 r=%222%22/%3E%3Ccircle cx=%223%22 cy=%2210%22 r=%222%22/%3E%3Ccircle cx=%223%22 cy=%2216%22 r=%222%22/%3E%3C/svg%3E\")';\n  }\n\n  addUList() {\n    this.editor.insertText('\\n* 列表项');\n  }\n\n}\nclass MarkdownEditToolbarItemOList extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入有序列表项', false);\n    this.el.addEventListener('click', this.addOList);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Enumbered list%3C/title%3E%3Cpath d=%22M7 15h12v2H7zm0-6h12v2H7zm0-6h12v2H7zM2 6h1V1H1v1h1zm1 9v1H2v1h1v1H1v1h3v-5H1v1zM1 8v1h2v1H1.5a.5.5 0 00-.5.5V13h3v-1H2v-1h1.5a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5z%22/%3E%3C/svg%3E\")';\n  }\n\n  addOList() {\n    this.editor.insertText('\\n1. 列表项');\n  }\n\n}\nclass MarkdownEditToolbarItemQuote extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入引用项', false);\n    this.el.addEventListener('click', this.addQuote);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Equotes%3C/title%3E%3Cpath d=%22M7 6l1-2H6C3.79 4 2 6.79 2 9v7h7V9H5c0-3 2-3 2-3zm7 3c0-3 2-3 2-3l1-2h-2c-2.21 0-4 2.79-4 5v7h7V9z%22/%3E%3C/svg%3E\")';\n  }\n\n  addQuote() {\n    this.editor.insertText('\\n> 引用行');\n  }\n\n}\nclass MarkdownEditToolbarItemCode extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入代码块', false);\n    this.el.addEventListener('click', this.addCode);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Emarkup%3C/title%3E%3Cpath d=%22M6.5 3.5L0 10l1.5 1.5 5 5L8 15l-5-5 5-5zm7 0L12 5l5 5-5 5 1.5 1.5L20 10z%22/%3E%3C/svg%3E\")';\n  }\n\n  addCode() {\n    this.editor.insertText('```\\nconsole.log(\\'hello, world!\\')\\n```\\n');\n  }\n\n}\nclass MarkdownEditToolbarItemLink extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入外部链接', false);\n    this.el.addEventListener('click', this.addLink);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Elink%3C/title%3E%3Cpath d=%22M4.83 15h2.91a4.88 4.88 0 01-1.55-2H5a3 3 0 110-6h3a3 3 0 012.82 4h2.1a4.82 4.82 0 00.08-.83v-.34A4.83 4.83 0 008.17 5H4.83A4.83 4.83 0 000 9.83v.34A4.83 4.83 0 004.83 15z%22/%3E%3Cpath d=%22M15.17 5h-2.91a4.88 4.88 0 011.55 2H15a3 3 0 110 6h-3a3 3 0 01-2.82-4h-2.1a4.82 4.82 0 00-.08.83v.34A4.83 4.83 0 0011.83 15h3.34A4.83 4.83 0 0020 10.17v-.34A4.83 4.83 0 0015.17 5z%22/%3E%3C/svg%3E\")';\n  }\n\n  addLink() {\n    this.editor.insertText('[文字](链接)');\n  }\n\n}\nclass MarkdownEditToolbarItemImage extends MarkdownEditToolbarItem {\n  constructor(editor) {\n    super(editor, '插入图片', false);\n    this.el.addEventListener('click', this.addImage);\n    this.icon.style.backgroundImage = 'linear-gradient(transparent,transparent),url(\"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22 viewBox=%220 0 20 20%22%3E%3Ctitle%3Eimage%3C/title%3E%3Cpath d=%22M2 2a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm-.17 13l4.09-5.25 2.92 3.51L12.92 8l5.25 7z%22/%3E%3C/svg%3E\")';\n  }\n\n  addImage() {\n    this.editor.insertText('![图片配字](图片链接)');\n  }\n\n}\n\n//# sourceURL=webpack:///./src/editor/editor-tool.js?");

/***/ }),

/***/ "./src/editor/editor.js":
/*!******************************!*\
  !*** ./src/editor/editor.js ***!
  \******************************/
/*! exports provided: MarkdownEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarkdownEditor\", function() { return MarkdownEditor; });\nclass MarkdownEditor {\n  constructor(id, parserfunc, ext) {\n    this.editbox = null;\n    this.toolbar = null;\n    this.preview = null;\n    this.el = document.createElement('div');\n    this.el.id = id;\n    this.el.className = 'editor';\n    this.parserfunc = parserfunc;\n    this.setChild(ext);\n  }\n\n  setChild(ext) {\n    this.preview = new MarkdownPreview();\n    this.editbox = new MarkdownEditBox(this.preview);\n    this.toolbar = new MarkdownEditToolbar(this.editbox, ext);\n    this.el.appendChild(this.toolbar.el);\n    this.el.appendChild(this.editbox.el);\n    this.el.appendChild(this.preview.el);\n    this.preview.setMarkdownFunc = this.parserfunc;\n    this.editbox.setListener();\n  }\n\n}\n\nclass MarkdownPreview {\n  constructor() {\n    this.el = document.createElement('div');\n    this.el.className = 'editor-preview';\n  }\n\n  setMarkdown(md) {\n    let rendered = this.setMarkdownFunc(md);\n    this.el.innerHTML = rendered;\n  }\n\n}\n\nclass MarkdownEditToolbar {\n  constructor(editbox = null, extension = []) {\n    this.items = [];\n    this.el = document.createElement('div');\n    this.editbox = editbox;\n    this.el.className = 'editor-edit-toolbar';\n\n    for (let itm of extension) {\n      let item = new itm(this.editbox);\n      this.items.push(item);\n      this.el.appendChild(item.el);\n    }\n  }\n\n}\n\nclass MarkdownEditBox {\n  constructor(preview = null) {\n    this.el = document.createElement('textarea');\n    this.preview = preview;\n    this.el.className = 'editor-edit-box';\n  }\n\n  setListener() {\n    this.el.addEventListener('input', event => {\n      this.preview.setMarkdown(event.target.value);\n    });\n  }\n\n  getText() {\n    return this.el.value;\n  }\n\n  insertText(text) {\n    let selS = this.el.selectionEnd;\n    let tmpstring = this.el.value;\n    let tmpstringleft = tmpstring.slice(0, selS);\n    let tmpstringright = tmpstring.slice(selS, tmpstring.length);\n    this.el.value = tmpstringleft + text + tmpstringright;\n    this.el.dispatchEvent(new Event('input'));\n    this.el.selectionStart = selS;\n    this.el.selectionEnd = selS + text.length;\n    this.el.focus();\n  }\n\n}\n\n//# sourceURL=webpack:///./src/editor/editor.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_editor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor/editor.js */ \"./src/editor/editor.js\");\n/* harmony import */ var _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor/editor-tool.js */ \"./src/editor/editor-tool.js\");\n/* harmony import */ var _junk_markdown_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./junk/markdown.js */ \"./src/junk/markdown.js\");\n\n\n\nconst urlParams = new URLSearchParams(window.location.search);\nlet editor;\nlet extensions = [_editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemSave\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemH1\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemH2\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemH3\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemH4\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemH5\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemH6\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemBold\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemItalic\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemUList\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemOList\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemQuote\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemCode\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemLink\"], _editor_editor_tool_js__WEBPACK_IMPORTED_MODULE_1__[\"MarkdownEditToolbarItemImage\"]];\n\nif (urlParams.get('markdownit')) {\n  console.log('Backend renderer: Markdown-it');\n  editor = new _editor_editor_js__WEBPACK_IMPORTED_MODULE_0__[\"MarkdownEditor\"]('editor-0', src => {\n    let md = window.markdownit();\n    return md.render(src);\n  }, extensions);\n} else {\n  console.log('Backend renderer: JUNK');\n  editor = new _editor_editor_js__WEBPACK_IMPORTED_MODULE_0__[\"MarkdownEditor\"]('editor-0', _junk_markdown_js__WEBPACK_IMPORTED_MODULE_2__[\"markdown\"], extensions);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.getElementById('container').appendChild(editor.el);\n});\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/junk/blocks.js":
/*!****************************!*\
  !*** ./src/junk/blocks.js ***!
  \****************************/
/*! exports provided: consumeLine, close_block */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"consumeLine\", function() { return consumeLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"close_block\", function() { return close_block; });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./src/junk/util.js\");\n/* harmony import */ var _def_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./def.js */ \"./src/junk/def.js\");\n\n\n\nconst cancontain = function (parent_type, child_type) {\n  return parent_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_DOC\"] || parent_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_QUOTE\"] || parent_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LISTITEM\"] || parent_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LIST\"] && child_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LISTITEM\"];\n};\n\nconst acceptslines = function (block_type) {\n  return block_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_PARA\"] || block_type === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"];\n};\n\nconst closeUnmatched = function (parserstatus) {\n  while (parserstatus.oldtip !== parserstatus.lastMatched) {\n    close_block(parserstatus.oldtip, parserstatus);\n    parserstatus.oldtip = parserstatus.oldtip.parent;\n  }\n};\n\nconst makeNode = function (blid, parserstatus) {\n  while (!cancontain(parserstatus.tip.nodetype, blid)) {\n    close_block(parserstatus.tip, parserstatus);\n  }\n\n  let newnode = new _util_js__WEBPACK_IMPORTED_MODULE_0__[\"astnode\"](blid, parserstatus.tip);\n  parserstatus.tip.childs.push(newnode);\n  parserstatus.tip = newnode;\n  return newnode;\n};\n/* copied from reference implementation: too hard to understand */\n\n\nvar parseListMarker = function (ln, offset, indent) {\n  var rest = ln.slice(offset);\n  var match;\n  var spaces_after_marker;\n  var data = {\n    type: null,\n    tight: true,\n    // lists are tight by default\n    bulletChar: null,\n    start: null,\n    delimiter: null,\n    padding: null,\n    markerOffset: indent\n  };\n\n  if (rest.match(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_HRULE\"])) {\n    return null;\n  }\n\n  if (match = rest.match(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_ULMARKER\"])) {\n    spaces_after_marker = match[1].length;\n    data.type = 'bullet';\n    data.bulletChar = match[0][0];\n  } else if (match = rest.match(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_OLMARKER\"])) {\n    spaces_after_marker = match[3].length;\n    data.type = 'ordered';\n    data.start = parseInt(match[1]);\n    data.delimiter = match[2];\n  } else {\n    return null;\n  }\n\n  var blank_item = match[0].length === rest.length;\n\n  if (spaces_after_marker >= 5 || spaces_after_marker < 1 || blank_item) {\n    data.padding = match[0].length - spaces_after_marker + 1;\n  } else {\n    data.padding = match[0].length;\n  }\n\n  return data;\n};\n\nconst consumeLine = function (line, ast, parserstatus) {\n  line = _util_js__WEBPACK_IMPORTED_MODULE_0__[\"tab2space\"](line);\n  parserstatus.oldtip = parserstatus.tip;\n  let linepos = 0;\n  let first_nonspace_index;\n  let blank_line; // parse line start markers\n\n  let container = ast;\n  let lastChild;\n  let all_match = true;\n\n  while ((lastChild = container.lastChild()) && !lastChild.closed) {\n    container = lastChild; // find line indent. Indented code blocks possible...\n\n    let nonspace_match = _util_js__WEBPACK_IMPORTED_MODULE_0__[\"matchSinceIndex\"](_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_NOSPACE\"], line, linepos);\n\n    if (nonspace_match >= 0) {\n      first_nonspace_index = nonspace_match;\n      blank_line = false;\n    } else {\n      first_nonspace_index = line.length;\n      blank_line = true;\n    }\n\n    let indent = first_nonspace_index - linepos; // try to consume block markers if we want to continue this block...\n\n    switch (container.nodetype) {\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_QUOTE\"]:\n        // quote block\n        if (indent <= 3 && line[first_nonspace_index] === '>') {\n          // criteria to continue a quote block: no more than 3 spaces before a '>'\n          linepos = first_nonspace_index + 1; // consume the indent and '>' symbol\n\n          if (line[linepos] == ' ') linepos += 1; // consume an optional space after '>' too\n        } else {\n          // criteria not met, quote ended\n          all_match = false;\n        }\n\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HEADER\"]: // h1-h6\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HRULE\"]:\n        // <hr>\n        all_match = false; // criteria never met\n\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"]:\n        // code block\n        if (container.codeblockfenced) {\n          let closing_code_fence = line.slice(first_nonspace_index).match(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_CLOSECODEFENCE\"]);\n\n          if (indent <= 3 && line[first_nonspace_index] === container.fencechar && closing_code_fence && closing_code_fence[0].length >= container.fencelen) {\n            // fence closed. RE_CLOSECODEFENCE matches line end. Early return.\n            all_match = false;\n            close_block(container, parserstatus);\n            return;\n          } else {\n            // fence shall not close\n            // remove indention per \"Fences can be indented. If the opening fence is indented, content lines will have equivalent opening indentation removed, if present\"\n            let i;\n\n            for (i = 0; i < container.fenceindent; ++i) {\n              if (line[linepos] === ' ') linepos += 1;else break;\n            }\n          }\n        } else {\n          if (indent >= _def_js__WEBPACK_IMPORTED_MODULE_1__[\"CODE_INDENT\"]) {\n            linepos += _def_js__WEBPACK_IMPORTED_MODULE_1__[\"CODE_INDENT\"];\n          } else if (blank_line) {\n            linepos = first_nonspace_index; // end of line whatsoever\n          } else {\n            all_match = false;\n          }\n        }\n\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_PARA\"]:\n        if (blank_line) {\n          all_match = false;\n        }\n\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LISTITEM\"]:\n        if (blank_line) {\n          linepos = first_nonspace_index;\n        } else if (indent >= container.listspec.marketOffset + container.listspec.padding) {\n          linepos += container.listspec.marketOffset + container.listspec.padding;\n        } else {\n          all_match = false;\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    if (!all_match) {\n      // search end early...\n      container = container.parent;\n      break;\n    }\n  }\n\n  let all_close = container === parserstatus.oldtip;\n  parserstatus.lastMatched = container; // now, we have consumed all continuation markers, we try to create new blocks\n\n  while (true) {\n    let t = container.nodetype;\n    let nonspace_match = _util_js__WEBPACK_IMPORTED_MODULE_0__[\"matchSinceIndex\"](_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_NOSPACE\"], line, linepos);\n\n    if (nonspace_match >= 0) {\n      first_nonspace_index = nonspace_match;\n      blank_line = false;\n    } else {\n      first_nonspace_index = line.length;\n      blank_line = true;\n    }\n\n    let indent = first_nonspace_index - linepos;\n    if (t === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"]) break; // no we don't try to parse codeblocks\n\n    if (indent > _def_js__WEBPACK_IMPORTED_MODULE_1__[\"CODE_INDENT\"]) {\n      // another indented code...\n      //let lastcontainerblock = findcontainerblockfor('codeblock', container);\n      if (parserstatus.tip.nodetype !== _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_PARA\"] && !blank_line) {\n        linepos += _def_js__WEBPACK_IMPORTED_MODULE_1__[\"CODE_INDENT\"];\n        all_close = all_close || closeUnmatched(parserstatus);\n        container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"], parserstatus);\n      }\n    }\n\n    linepos = first_nonspace_index;\n    let match;\n    let data;\n\n    if (line[linepos] === '>') {\n      // block quote\n      linepos += 1; // consume the '>' symbol\n\n      if (line[linepos] == ' ') linepos += 1; // consume an optional space after '>' too\n\n      all_close = all_close || closeUnmatched(parserstatus);\n      container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_QUOTE\"], parserstatus);\n    } else if (match = line.slice(linepos).match(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_HEADER\"])) {\n      // header\n      linepos += match[0].length;\n      all_close = all_close || closeUnmatched(parserstatus);\n      container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HEADER\"], parserstatus);\n      container.level = match[0].trim().length;\n      container.strings.push(line.slice(linepos).replace(/^ *#+ *$/, '').replace(/ +#+ *$/, ''));\n      break;\n    } else if (match = line.slice(linepos).match(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_CODEFENCE\"])) {\n      // start of fenced code block\n      let fencelen = match[0].length;\n      all_close = all_close || closeUnmatched(parserstatus);\n      container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"], parserstatus);\n      container.codeblockfenced = true;\n      container.fencelen = fencelen;\n      container.fencechar = match[0][0];\n      container.fenceindent = indent;\n      linepos += fencelen;\n    } else if (_util_js__WEBPACK_IMPORTED_MODULE_0__[\"matchSinceIndex\"](_def_js__WEBPACK_IMPORTED_MODULE_1__[\"RE_HRULE\"], line, linepos) >= 0) {\n      // <hr>\n      all_close = all_close || closeUnmatched(parserstatus);\n      container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HRULE\"], parserstatus);\n      linepos = line.length - 1;\n      break;\n    } else if (data = parseListMarker(line, linepos, indent)) {\n      all_close = all_close || closeUnmatched(parserstatus);\n      linepos += data.padding;\n\n      if (t !== _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LIST\"] || !(container.listspec.type === data.type && container.listspec.delimiter === data.delimiter && container.listspec.bulletChar === data.bulletChar)) {\n        container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LIST\"], parserstatus);\n        container.listspec = data;\n      }\n\n      container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LISTITEM\"], parserstatus);\n      container.listspec = data;\n    } else {\n      break;\n    }\n  } // now we have consumed all markers, what remains are text.\n\n\n  if (!all_close && !blank_line && parserstatus.tip.nodetype === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_PARA\"] && parserstatus.tip.strings.length > 0) {\n    // just a lazy break\n    parserstatus.lastlineisblank = false;\n    parserstatus.tip.strings.push(line.slice(linepos));\n  } else {\n    all_close = all_close || closeUnmatched(parserstatus);\n\n    if (blank_line && container.lastChild()) {\n      container.lastChild().lastlineisblank = true;\n    }\n\n    let nodetype = container.nodetype;\n\n    if (blank_line && !(nodetype === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_QUOTE\"] || nodetype === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HEADER\"] || nodetype === _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"] && container.codeblockfenced)) {\n      container.lastlineisblank = true;\n    } else {\n      container.lastlineisblank = false;\n    }\n\n    let walk = container;\n\n    while (walk.parent) {\n      walk.parent.lastlineisblank = false;\n      walk = walk.parent;\n    }\n\n    switch (nodetype) {\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"]:\n        parserstatus.tip.strings.push(line.slice(linepos));\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HEADER\"]:\n      case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HRULE\"]:\n        break;\n\n      default:\n        linepos = first_nonspace_index;\n\n        if (acceptslines(nodetype)) {\n          parserstatus.tip.strings.push(line.slice(linepos));\n        } else if (blank_line) break;else {\n          container = makeNode(_def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_PARA\"], parserstatus);\n          parserstatus.tip.strings.push(line.slice(linepos));\n        }\n\n        break;\n    }\n  }\n\n  return ast;\n};\nconst close_block = function (block, parserstatus) {\n  if (block.closed) {\n    return;\n  }\n\n  block.closed = true;\n\n  switch (block.nodetype) {\n    case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_PARA\"]:\n    case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_HEADER\"]:\n      block.text = block.strings.join('\\n');\n      break;\n\n    case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_CODE\"]:\n      if (block.codeblockfenced) {\n        block.codeblockinfo = block.strings[0].trim();\n        block.text = block.strings.slice(1).join('\\n');\n        if (block.strings.length > 1) block.text += '\\n';\n      } else {\n        _util_js__WEBPACK_IMPORTED_MODULE_0__[\"stripFinalBlanklines\"](block.strings);\n        block.text = block.strings.join('\\n') + '\\n';\n      }\n\n      break;\n\n    case _def_js__WEBPACK_IMPORTED_MODULE_1__[\"BLID_LIST\"]:\n      break;\n\n    default:\n      break;\n  }\n\n  parserstatus.tip = block.parent; // || parserstatus.root;\n};\n\n//# sourceURL=webpack:///./src/junk/blocks.js?");

/***/ }),

/***/ "./src/junk/def.js":
/*!*************************!*\
  !*** ./src/junk/def.js ***!
  \*************************/
/*! exports provided: CODE_INDENT, BLID_DOC, BLID_QUOTE, BLID_LISTITEM, BLID_HEADER, BLID_HRULE, BLID_CODE, BLID_PARA, BLID_LIST, RE_HRULE, RE_HEADER, RE_NOSPACE, RE_CODEFENCE, RE_CLOSECODEFENCE, RE_ULMARKER, RE_OLMARKER, RE_EMPH, RE_STRONG, RE_DEL, RE_IMAGE, RE_LINK */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CODE_INDENT\", function() { return CODE_INDENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_DOC\", function() { return BLID_DOC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_QUOTE\", function() { return BLID_QUOTE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_LISTITEM\", function() { return BLID_LISTITEM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_HEADER\", function() { return BLID_HEADER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_HRULE\", function() { return BLID_HRULE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_CODE\", function() { return BLID_CODE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_PARA\", function() { return BLID_PARA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLID_LIST\", function() { return BLID_LIST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_HRULE\", function() { return RE_HRULE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_HEADER\", function() { return RE_HEADER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_NOSPACE\", function() { return RE_NOSPACE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_CODEFENCE\", function() { return RE_CODEFENCE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_CLOSECODEFENCE\", function() { return RE_CLOSECODEFENCE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_ULMARKER\", function() { return RE_ULMARKER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_OLMARKER\", function() { return RE_OLMARKER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_EMPH\", function() { return RE_EMPH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_STRONG\", function() { return RE_STRONG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_DEL\", function() { return RE_DEL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_IMAGE\", function() { return RE_IMAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RE_LINK\", function() { return RE_LINK; });\n/* Meta */\nconst CODE_INDENT = 4;\n/* Block ID */\n\nconst BLID_DOC = 'document';\nconst BLID_QUOTE = 'quote';\nconst BLID_LISTITEM = 'li';\nconst BLID_HEADER = 'header';\nconst BLID_HRULE = 'hr';\nconst BLID_CODE = 'code';\nconst BLID_PARA = 'paragraph';\nconst BLID_LIST = 'list';\n/* Block Regex */\n\nconst RE_HRULE = /^(?:(?:\\* *){3,}|(?:_ *){3,}|(?:- *){3,}) *$/;\nconst RE_HEADER = /^#{1,6}(?: +|$)/;\nconst RE_NOSPACE = /[^ \\t\\n]/;\nconst RE_CODEFENCE = /^`{3,}(?!.*`)|^~{3,}(?!.*~)/;\nconst RE_CLOSECODEFENCE = /^(?:`{3,}|~{3,})(?= *$)/;\nconst RE_ULMARKER = /^[*+-]( +|$)/;\nconst RE_OLMARKER = /^(\\d+)([.)])( +|$)/;\n/* Inline Regex */\n\nconst RE_EMPH = /(\\*(.*?)\\*([^*]|$))|(_(.*?)_([^_]|$))/;\nconst RE_STRONG = /(\\*\\*(.*?)\\*\\*([^*]|$))|(__(.*?)__([^_]|$))/;\nconst RE_DEL = /~~(.*?)~~/;\nconst RE_IMAGE = /!\\[(.*?)\\]\\((.*?)\\)/;\nconst RE_LINK = /\\[(.*?)\\]\\((.*?)\\)/;\n\n//# sourceURL=webpack:///./src/junk/def.js?");

/***/ }),

/***/ "./src/junk/inlines.js":
/*!*****************************!*\
  !*** ./src/junk/inlines.js ***!
  \*****************************/
/*! exports provided: processinline */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"processinline\", function() { return processinline; });\n/* harmony import */ var _def_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./def.js */ \"./src/junk/def.js\");\n\nlet processinline = function (ast) {\n  let i;\n\n  if (ast.childs.length <= 0) {\n    let t = ast.text || '';\n    let match; // step 1: match image\n\n    while (match = t.match(_def_js__WEBPACK_IMPORTED_MODULE_0__[\"RE_IMAGE\"])) {\n      let alt = match[1] || '';\n      let url = match[2] || '';\n      t = t.replace(match[0], `<img src=\"${url}\" alt=\"${alt}\" />`);\n    } // step 2: match link\n\n\n    while (match = t.match(_def_js__WEBPACK_IMPORTED_MODULE_0__[\"RE_LINK\"])) {\n      let txt = match[1] || '';\n      let url = match[2] || '';\n      t = t.replace(match[0], `<a href=\"${url}\">${txt}</a>`);\n    } // step 3: match strong emphasis\n\n\n    while (match = t.match(_def_js__WEBPACK_IMPORTED_MODULE_0__[\"RE_STRONG\"])) {\n      let word = match[2] || match[5] || '';\n      let giveback = match[3] || match[6] || '';\n      t = t.replace(match[0], `<strong>${word}</strong>${giveback}`);\n    } // step 4: match emphasis\n\n\n    while (match = t.match(_def_js__WEBPACK_IMPORTED_MODULE_0__[\"RE_EMPH\"])) {\n      let word = match[2] || match[5] || '';\n      let giveback = match[3] || match[6] || '';\n      t = t.replace(match[0], `<em>${word}</em>${giveback}`);\n    } // step 5: match del\n\n\n    t = t.replace(_def_js__WEBPACK_IMPORTED_MODULE_0__[\"RE_DEL\"], '<del>$1</del>'); // write back\n\n    ast.text = t;\n  } else {\n    for (i = 0; i < ast.childs.length; ++i) {\n      if (ast.childs[i].nodetype === _def_js__WEBPACK_IMPORTED_MODULE_0__[\"BLID_CODE\"]) continue;\n      processinline(ast.childs[i]);\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/junk/inlines.js?");

/***/ }),

/***/ "./src/junk/markdown.js":
/*!******************************!*\
  !*** ./src/junk/markdown.js ***!
  \******************************/
/*! exports provided: markdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"markdown\", function() { return markdown; });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./src/junk/util.js\");\n/* harmony import */ var _blocks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blocks.js */ \"./src/junk/blocks.js\");\n/* harmony import */ var _inlines_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inlines.js */ \"./src/junk/inlines.js\");\n/* harmony import */ var _def_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./def.js */ \"./src/junk/def.js\");\n\n\n\n\nfunction markdown(src) {\n  let lines = src.split(/\\r\\n|\\n|\\r/); // split into lines\n\n  let ast = new _util_js__WEBPACK_IMPORTED_MODULE_0__[\"astnode\"]('document', null);\n  let status = {\n    tip: ast,\n    oldtip: null,\n    root: ast\n  };\n\n  for (let l of [...lines]) {\n    Object(_blocks_js__WEBPACK_IMPORTED_MODULE_1__[\"consumeLine\"])(l, ast, status);\n  }\n\n  while (status.tip) {\n    Object(_blocks_js__WEBPACK_IMPORTED_MODULE_1__[\"close_block\"])(status.tip, status);\n  }\n\n  Object(_inlines_js__WEBPACK_IMPORTED_MODULE_2__[\"processinline\"])(ast);\n  let htm = compileast(ast);\n  return htm;\n}\n\nfunction compileast(ast) {\n  if (ast.childs.length <= 0) {\n    return ast.text || '';\n  }\n\n  let result = '';\n\n  for (let c of ast.childs) {\n    switch (c.nodetype) {\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_HEADER\"]:\n        result += `<h${c.level}>` + compileast(c) + `</h${c.level}>`;\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_PARA\"]:\n        result += `<p>` + compileast(c) + `</p>`;\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_QUOTE\"]:\n        result += `<blockquote>` + compileast(c) + '</blockquote>';\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_CODE\"]:\n        result += `<pre><code>` + compileast(c) + `</code></pre>`;\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_LIST\"]:\n        if (c.listspec.type === 'ordered') result += `<ol>` + compileast(c) + '</ol>';else if (c.listspec.type === 'bullet') result += `<ul>` + compileast(c) + `</ul>`;\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_LISTITEM\"]:\n        result += `<li>` + compileast(c) + `</li>`;\n        break;\n\n      case _def_js__WEBPACK_IMPORTED_MODULE_3__[\"BLID_HRULE\"]:\n        result += `<hr/>`;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return result;\n}\n\n//# sourceURL=webpack:///./src/junk/markdown.js?");

/***/ }),

/***/ "./src/junk/util.js":
/*!**************************!*\
  !*** ./src/junk/util.js ***!
  \**************************/
/*! exports provided: astnode, matchSinceIndex, tab2space, stripFinalBlanklines */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"astnode\", function() { return astnode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matchSinceIndex\", function() { return matchSinceIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tab2space\", function() { return tab2space; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stripFinalBlanklines\", function() { return stripFinalBlanklines; });\n/* harmony import */ var _def_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./def.js */ \"./src/junk/def.js\");\n\nclass astnode {\n  constructor(ntype, parent) {\n    this.nodetype = ntype;\n    this.childs = [];\n    this.strings = [];\n    this.closed = false;\n    this.parent = parent;\n  }\n\n  isLeaf() {\n    return this.childs.length <= 0;\n  }\n\n  lastChild() {\n    if (this.childs.length <= 0) return null;\n    return this.childs[this.childs.length - 1];\n  }\n\n}\nconst matchSinceIndex = (re, str, start) => {\n  let result = str.slice(start).match(re);\n\n  if (result === null) {\n    return -1;\n  } else {\n    return start + result.index;\n  }\n};\nconst tab2space = function (text) {\n  let pos;\n  const spaces = ['    ', '   ', '  ', ' '];\n\n  while ((pos = text.indexOf('\\t')) !== -1) {\n    text = text.slice(0, pos) + spaces[pos % 4] + text.slice(pos + 1);\n  }\n\n  return text;\n};\nconst stripFinalBlanklines = function (lines) {\n  while (lines.length > 0 && !_def_js__WEBPACK_IMPORTED_MODULE_0__[\"RE_NOSPACE\"].test(lines[lines.length - 1])) {\n    lines.pop();\n  }\n\n  return lines;\n};\n\n//# sourceURL=webpack:///./src/junk/util.js?");

/***/ })

/******/ });